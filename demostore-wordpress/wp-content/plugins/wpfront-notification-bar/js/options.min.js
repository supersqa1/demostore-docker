(function(){var l=function(d){function g(){var b=[],e=[],h=[],c=[],d=[],f=a('input[name="wpfront-notification-bar-options[schedule_start_date]"]').val(),g=a('input[name="wpfront-notification-bar-options[schedule_start_time]"]').val(),k=a('input[name="wpfront-notification-bar-options[schedule_duration]"]').val();"hour"==a('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(b.push(a('select[name="hour_cron_minutes"]').val()),e.push("*"),h.push("*"),c.push("*"),d.push("*"));"day"==
a('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(b.push(a('select[name="day_cron_minutes"]').val()),e.push(a('select[name="day_cron_hours"]').val()),h.push("*"),c.push("*"),d.push("*"));"week"==a('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(b.push(a('select[name="weekly_cron_minutes"]').val()),e.push(a('select[name="weekly_cron_hours"]').val()),h.push("*"),c.push("*"),d.push(a('select[name="weekly_cron_days"]').val()));"mon"==a('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&
(b.push(a('select[name="monthly_cron_minutes"]').val()),e.push(a('select[name="monthly_cron_hours"]').val()),h.push(a('select[name="monthly_cron_days"]').val()),c.push("*"),d.push("*"));a.post(ajaxurl,{action:"notification_bar_cron_text",cronminutes:b,cronhours:e,cronmday:h,cronmon:c,cronwday:d,schedulestartdate:f,schedulestarttime:g,scheduleduration:k},function(b){a("#notification-bar-schedule").replaceWith(b)})}function f(){var b=parseInt(a('input[name="wpfront-notification-bar-options[schedule_duration]"]').val());
if(60<b){var e=b/60;b=Math.floor(e);e=Math.round(60*(e-b));b=0<e?d.x_hours_minutes.replace("%1$d",b).replace("%2$d",e):d.x_hours.replace("%1$d",b);a("#schedule_duration").replaceWith('<span id="schedule_duration" class="description">= '+b+"</span>")}else a("#schedule_duration").replaceWith('<span id="schedule_duration" class="description"></span>')}function k(b){b.ColorPicker&&b.ColorPicker({color:b.attr("color"),onShow:function(b){a(b).fadeIn(500);return!1},onHide:function(b){a(b).fadeOut(500);return!1},
onChange:function(a,c,d){b.css("backgroundColor","#"+c);b.next().val("#"+c)}}).css("backgroundColor",b.attr("color"))}var a=jQuery,c=a("#wpfront-notification-bar-options");c.on("change",'.pages-selection input[type="checkbox"]',function(){var b=a(this),c=b.parent().parent().parent().prev(),d=c.val();d=b.prop("checked")?d+(","+b.val()):(","+d+",").replace(","+b.val()+",",",");d=d.replace(/(^[,\s]+)|([,\s]+$)/g,"");c.val(d)});c.on("change",'.roles-selection input[type="checkbox"]',function(){var b=
[],c=a(this).parent().parent().parent();c.find("input:checked").each(function(c,d){b.push(a(d).val())});c.children(":first").val(JSON.stringify(b))});f();!0===a("#date-none").is(":checked")?(a(".start-end-date").hide(),a(".schedule-date").hide()):!0===a("#start-end-date").is(":checked")?(a(".start-end-date").show(),a(".schedule-date").hide()):(a(".start-end-date").hide(),a(".schedule-date").show());c.on("click","#start-end-date",function(){a(".start-end-date").show();a(".schedule-date").hide()});
c.on("click","#schedule-date",function(){a(".start-end-date").hide();a(".schedule-date").show()});c.on("click","#date-none",function(){a(".start-end-date").hide();a(".schedule-date").hide()});c.on("change",'[name="wpfront-notification-bar-options[schedule]"], select[name="hour_cron_minutes"], select[name="day_cron_minutes"], select[name="day_cron_hours"], select[name="weekly_cron_days"], select[name="weekly_cron_minutes"], select[name="weekly_cron_hours"], select[name="monthly_cron_days"], select[name="monthly_cron_hours"], select[name="monthly_cron_minutes"], input[name="wpfront-notification-bar-options[schedule_start_date]"], input[name="wpfront-notification-bar-options[schedule_start_time]"], input[name="wpfront-notification-bar-options[schedule_duration]"] ',
function(){g()});c.on("focusout",'[name="wpfront-notification-bar-options[schedule_duration]"]',function(){f()});c.find("input.date").datepicker({dateFormat:"yy-mm-dd"});c.find("input.time").timepicker({timeFormat:"h:i a"});c.on("change","#chk_button_action_url_noopener",function(){a("#txt_button_action_url_noopener").val(a(this).prop("checked")?1:0)});c.find(".color-selector").each(function(b,c){k(a(c))})};window.init_wpfront_notifiction_bar_options=function(d){var g=jQuery;"complete"===document.readyState?
l(d):g(function(){l(d)});var f=null;g("#wpfront-notification-bar-options").on("click","#media-library-button",function(){null===f&&(f=wp.media.frames.file_frame=wp.media({title:d.choose_image,multiple:!1,button:{text:d.select_image}}).on("select",function(){var d=f.state().get("selection").first().toJSON();g("#reopen-button-image-url").val(d.url)}));f.open();return!1})}})();